<!DOCTYPE html>

<html lang="es">
<head>
<meta charset="utf-8"/>
<title>Gestión de Usuarios | Clinik Dent</title>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<link href="css/bootstrap.min.css" rel="stylesheet"/>
<link href="css/font-awesome.min.css" rel="stylesheet"/>
<link href="css/templatemo-style.css" rel="stylesheet"/>
<style>
        body { background: linear-gradient(135deg, #e0f7fa 0%, #fff 100%); }
        .dashboard-box {
            background: #fff;
            border-radius: 18px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.12);
            padding: 40px 30px 30px 30px;
            margin-top: 40px;
            position: relative;
            overflow: visible;
        }
        .dashboard-header {
            margin-bottom: 30px;
            text-align: center;
        }
        .dashboard-header h2 {
            font-weight: 800;
            color: #00a3e1;
            letter-spacing: 1px;
        }
        .dashboard-header p {
            color: #555;
            font-size: 1.1em;
        }
        .nav-tabs > li > a {
            font-weight: 600;
            color: #00a3e1;
            border-radius: 8px 8px 0 0;
            background: #f7f9fb;
            margin-right: 2px;
        }
        .nav-tabs > li.active > a, .nav-tabs > li > a:hover {
            background: #fff;
            color: #0077b6;
            border: 2px solid #00a3e1;
            border-bottom: none;
        }
        .tab-content {
            background: #fff;
            border-radius: 0 0 12px 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.04);
            padding: 24px 16px 8px 16px;
        }
        .table th, .table td {
            vertical-align: middle !important;
            text-align: center;
        }
        .btn-xs {
            padding: 3px 10px;
            font-size: 13px;
        }
        .btn-editar {
            background: #ffb300;
            color: #fff;
        }
        .btn-editar:hover {
            background: #ff9800;
            color: #fff;
        }
        .btn-eliminar {
            background: #e53935;
            color: #fff;
        }
        .btn-eliminar:hover {
            background: #b71c1c;
            color: #fff;
        }
        .user-avatar {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            object-fit: cover;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            margin-right: 10px;
        }
        .table-user {
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .carousel {
            margin-bottom: 32px;
        }
        .carousel-inner > .item > img {
            margin: 0 auto;
            max-height: 220px;
            border-radius: 16px;
            box-shadow: 0 4px 16px rgba(0,0,0,0.10);
        }
        .carousel-caption {
            background: rgba(0,163,225,0.85);
            color: #fff;
            border-radius: 8px;
            padding: 10px 18px;
            left: 10%;
            right: 10%;
        }
        .modal-content {
            border-radius: 14px;
        }
        .close {
            font-size: 2em;
            color: #00a3e1;
            opacity: 1;
        }
        .modal-title {
            color: #00a3e1;
            font-weight: 700;
        }
        .form-control:focus {
            border-color: #00a3e1;
            box-shadow: 0 0 0 2px #00a3e13a;
        }
        .edit-form-inline input {
            width: 90%;
            margin: 0 auto;
        }
    </style>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&amp;display=swap" rel="stylesheet"/><style>
        .modal-content {
            background-color: #f9f9f9 !important;
        }
        .tab-pane, .form-control, .modal-content, label {
            color: #212529 !important;
        }
        .modal {
            z-index: 1055 !important;
        }
        </style></head>
<body>
<nav class="navbar navbar-default">
<div class="container-fluid">
<div class="navbar-header">
<a class="navbar-brand" href="dashboard-admin.html">Clinik Dent</a>
</div>
<ul class="nav navbar-nav navbar-right">
<li><a href="index.html"><i class="fa fa-sign-out"></i> Cerrar sesión</a></li>
</ul>
</div>
</nav>
<div class="container">
<div class="dashboard-box">
<div class="dashboard-header">
<a class="btn btn-default" href="dashboard-admin.html" style="float:right;margin-bottom:10px;"><i class="fa fa-arrow-left"></i> Volver al panel</a>
<h2>Gestión de Usuarios</h2>
<p>Administra pacientes, odontólogos y personal administrativo.</p>
</div>
<!-- Carrusel solo en página de inicio, no aquí -->
<ul class="nav nav-tabs" id="userTabs">
<li class="active"><a data-toggle="tab" href="#pacientes">Pacientes</a></li>
<li><a data-toggle="tab" href="#odontologos">Odontólogos</a></li>
<li><a data-toggle="tab" href="#personal">Personal</a></li>
<li><a data-toggle="tab" href="#administradores">Administradores</a></li>
</ul>
<div class="tab-content" style="margin-top:20px;">
<div class="tab-pane fade" id="pacientes">
<h4>Pacientes</h4>
<table class="table table-bordered" id="tabla-pacientes">
<thead>
<tr><th>Nombre</th><th>Email</th><th>Teléfono</th><th>Acciones</th></tr>
</thead>
<tbody></tbody>
</table>
<!-- Modal para ver citas del paciente -->
<div class="modal fade" id="modalCitasPacienteAdmin" role="dialog" tabindex="-1">
<div class="modal-dialog" role="document">
<div class="modal-content">
<div class="modal-header">
<h4 class="modal-title">Citas del Paciente</h4>
<button class="close" data-dismiss="modal" type="button"><span>×</span></button>
</div>
<div class="modal-body">
<table class="table table-bordered" id="tabla-citas-paciente-admin">
<thead>
<tr><th>Fecha</th><th>Hora</th><th>Odontólogo</th><th>Estado</th></tr>
</thead>
<tbody></tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="tab-pane fade" id="odontologos">
<h4>Odontólogos <button class="btn btn-success btn-xs pull-right" data-target="#modalAgregarOdontologo" data-toggle="modal"><i class="fa fa-plus"></i> Agregar</button></h4>
<table class="table table-bordered" id="tabla-odontologos">
<thead>
<tr><th>Avatar</th><th>Nombre</th><th>Email</th><th>Teléfono</th><th>Acciones</th></tr>
</thead>
<tbody></tbody>
</table>
</div>
<div class="tab-pane fade" id="personal">
<h4>Personal Administrativo <button class="btn btn-success btn-xs pull-right" data-target="#modalAgregarPersonal" data-toggle="modal"><i class="fa fa-plus"></i> Agregar</button></h4>
<table class="table table-bordered" id="tabla-personal">
<thead>
<tr><th>Avatar</th><th>Nombre</th><th>Email</th><th>Teléfono</th><th>Acciones</th></tr>
</thead>
<tbody></tbody>
</table>
</div>
<div class="tab-pane fade" id="administradores">
<h4>Administradores <button class="btn btn-success btn-xs pull-right" data-target="#modalAgregarAdmin" data-toggle="modal"><i class="fa fa-plus"></i> Agregar</button></h4>
<table class="table table-bordered" id="tabla-admins">
<thead>
<tr><th>Avatar</th><th>Nombre</th><th>Email</th><th>Teléfono</th><th>Acciones</th></tr>
</thead>
<tbody></tbody>
</table>
</div>
<!-- Modal Agregar Administrador -->
<div class="modal fade" id="modalAgregarAdmin" role="dialog" tabindex="-1">
<div class="modal-dialog" role="document">
<div class="modal-content">
<div class="modal-header">
<h4 class="modal-title">Agregar Administrador</h4>
<button class="close" data-dismiss="modal" type="button"><span>×</span></button>
</div>
<div class="modal-body">
<form id="formAgregarAdmin">
<div class="form-group">
<label>Nombre</label>
<input class="form-control" id="admin-nombre" required="" type="text"/>
</div>
<div class="form-group">
<label>Email</label>
<input class="form-control" id="admin-email" required="" type="email"/>
</div>
<div class="form-group">
<label>Teléfono</label>
<input class="form-control" id="admin-telefono" required="" type="tel"/>
</div>
<div class="form-group">
<label>Contraseña</label>
<input class="form-control" id="admin-password" required="" type="password"/>
</div>
<button class="btn btn-success" type="submit">Agregar</button>
</form>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<!-- Modal Agregar Odontólogo -->
<div class="modal fade" id="modalAgregarOdontologo" role="dialog" tabindex="-1">
<div class="modal-dialog" role="document">
<div class="modal-content">
<div class="modal-header">
<h4 class="modal-title">Agregar Odontólogo</h4>
<button class="close" data-dismiss="modal" type="button"><span>×</span></button>
</div>
<div class="modal-body">
<form id="formAgregarOdontologo">
<div class="form-group">
<label>Nombre</label>
<input class="form-control" id="odontologo-nombre" required="" type="text"/>
</div>
<div class="form-group">
<label>Email</label>
<input class="form-control" id="odontologo-email" required="" type="email"/>
</div>
<div class="form-group">
<label>Teléfono</label>
<input class="form-control" id="odontologo-telefono" required="" type="tel"/>
</div>
<div class="form-group">
<label>Contraseña</label>
<input class="form-control" id="odontologo-password" required="" type="password"/>
</div>
<button class="btn btn-success" type="submit">Agregar</button>
</form>
</div>
</div>
</div>
</div>
<!-- Modal Agregar Personal -->
<div class="modal fade" id="modalAgregarPersonal" role="dialog" tabindex="-1">
<div class="modal-dialog" role="document">
<div class="modal-content">
<div class="modal-header">
<h4 class="modal-title">Agregar Personal</h4>
<button class="close" data-dismiss="modal" type="button"><span>×</span></button>
</div>
<div class="modal-body">
<form id="formAgregarPersonal">
<div class="form-group">
<label>Nombre</label>
<input class="form-control" id="personal-nombre" required="" type="text"/>
</div>
<div class="form-group">
<label>Email</label>
<input class="form-control" id="personal-email" required="" type="email"/>
</div>
<div class="form-group">
<label>Teléfono</label>
<input class="form-control" id="personal-telefono" required="" type="tel"/>
</div>
<div class="form-group">
<label>Contraseña</label>
<input class="form-control" id="personal-password" required="" type="password"/>
</div>
<button class="btn btn-success" type="submit">Agregar</button>
</form>
</div>
</div>
</div>
</div>
<script src="js/jquery.js"></script>
<script src="js/bootstrap.min.js"></script>
<script type="module">
    document.addEventListener('DOMContentLoaded', function() {
        const logoutLink = document.querySelector('a[href="index.html"]');
        if (logoutLink) {
            logoutLink.addEventListener('click', async function(e) {
                e.preventDefault();
                try {
                    const { getAuth, signOut } = await import('https://www.gstatic.com/firebasejs/11.10.0/firebase-auth.js');
                    const auth = getAuth();
                    await signOut(auth);
                } catch (e) {}
                sessionStorage.clear();
                localStorage.clear();
                window.location.replace('index.html');
                window.history.pushState(null, '', window.location.href);
                window.onpopstate = function() {
                    window.location.replace('index.html');
                };
            });
        }
    });
    </script>
<div class="modal-backdrop fade show"></div></body>
</html>
